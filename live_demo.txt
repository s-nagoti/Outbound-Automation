add some api functionality, and do unit testing for previous functions